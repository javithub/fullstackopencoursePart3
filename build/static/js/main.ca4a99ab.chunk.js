(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},19:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(13),c=n.n(u),o=(n(19),n(2)),l=function(e){var t=e.name,n=e.number,a=e.deletePerson;return r.a.createElement(r.a.Fragment,null,t," ",n," ",r.a.createElement("button",{onClick:a},"Delete")," ",r.a.createElement("br",null))},s=function(e){var t=e.persons,n=e.deletePerson;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(l,{key:e.id,name:e.name,number:e.number,deletePerson:function(){return n(e.id,e.name)}})})))},i=function(e){var t=e.persons,n=Object(a.useState)([]),u=Object(o.a)(n,2),c=u[0],l=u[1],i=Object(a.useState)(""),m=Object(o.a)(i,2),f=m[0],d=m[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=t.find((function(e){return e.name.toLowerCase()===f.toLowerCase()}));l(void 0===n?[]:[].concat(n))}},r.a.createElement("div",null,"filter shown with ",r.a.createElement("input",{value:f,onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"search"))),"Filtered results:",r.a.createElement("br",null),r.a.createElement(s,{persons:c}))},m=n(3),f=n.n(m),d="/api/persons",E=function(){return f.a.get(d).then((function(e){return e.data}))},b=function(e){return f.a.post(d,e).then((function(e){return e.data}))},v=function(e){return f.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))},h=function(e){var t=e.persons,n=e.setPersons,u=e.setSuccessMessage,c=e.setErrorMessage,l=Object(a.useState)(""),s=Object(o.a)(l,2),i=s[0],m=s[1],f=Object(a.useState)(""),d=Object(o.a)(f,2),E=d[0],v=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();t.filter((function(e){return e.name===i}));var a={name:i,number:E,id:t.length+1};b(a).then((function(e){n(t.concat(e)),m(""),v(""),u("Added '".concat(i,"'")),setTimeout((function(){u(null)}),5e3)})).catch((function(e){c(e.response.data.error),setTimeout((function(){c(null)}),5e3)}))}},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:i,onChange:function(e){return m(e.target.value)}})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:E,onChange:function(e){return v(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))},p=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"success"},t)},g=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"error"},t)},j=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],u=t[1],c=Object(a.useState)(null),l=Object(o.a)(c,2),m=l[0],f=l[1],d=Object(a.useState)(null),b=Object(o.a)(d,2),j=b[0],w=b[1];Object(a.useEffect)((function(){E().then((function(e){u(e)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(p,{message:m}),r.a.createElement(g,{message:j}),r.a.createElement(i,{persons:n}),r.a.createElement("h3",null,"Add a new"),r.a.createElement(h,{persons:n,setPersons:u,setSuccessMessage:f,setErrorMessage:w}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(s,{persons:n,deletePerson:function(e,t){window.confirm("Delete '".concat(t,"'?"))&&v(e).then((function(t){u(n.filter((function(t){return t.id!==e})))})).catch((function(a){w("Information of '".concat(t,"' has already been removed from server")),setTimeout((function(){w(null)}),5e3),u(n.filter((function(t){return t.id!==e})))}))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.ca4a99ab.chunk.js.map